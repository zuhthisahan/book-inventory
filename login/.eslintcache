[{"E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\components\\login.component.js":"1","E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\components\\register.component.js":"2","E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\App.js":"3","E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\components\\nav.component.js":"4","E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\reportWebVitals.js":"5","E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\index.js":"6","E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\components\\home.component.js":"7"},{"size":1654,"mtime":1606751648242,"results":"8","hashOfConfig":"9"},{"size":1853,"mtime":1606744100052,"results":"10","hashOfConfig":"9"},{"size":2021,"mtime":1606752194795,"results":"11","hashOfConfig":"9"},{"size":1317,"mtime":1606752200375,"results":"12","hashOfConfig":"9"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"9"},{"size":679,"mtime":1606576999195,"results":"14","hashOfConfig":"9"},{"size":1701,"mtime":1606755473789,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},"8caoa8",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\components\\login.component.js",["32"],"\r\nimport React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { Redirect } from 'react-router-dom';\r\nexport default class Login extends Component{\r\n\r\n    state ={}\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n \r\n        const data ={\r\n            username: this.username,\r\n            pass:this.password\r\n            \r\n        };\r\n        axios.post('login',data).then(\r\n            res => {\r\n                localStorage.setItem('jwt', res.data.token);\r\n               // console.log(jwtDecode(localStorage.getItem('jwt')).username)\r\n               this.setState({\r\n                   loggedIn : true\r\n               });\r\n               this.props.setUser(res.data.user);\r\n            })\r\n        \r\n    };\r\n \r\n    render() {\r\n        if(this.state.loggedIn){\r\n            return <Redirect to ={'/'}/>\r\n        }\r\n        return(\r\n            <form onSubmit ={this.handleSubmit}>\r\n            <h3>Login</h3>\r\n\r\n            <div className=\"form-group\">\r\n                <label>User Name</label>\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"Username\" \r\n                onChange ={e=> this.username = e.target.value}/>\r\n                \r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Password</label>\r\n                <input type=\"password\" className=\"form-control\" placeholder=\"Password\" \r\n                onChange ={e=> this.password = e.target.value}/>\r\n                \r\n            </div> \r\n\r\n      \r\n\r\n            <button className=\"btn btn-primary btn-block\">Login</button>\r\n\r\n        </form>\r\n        )\r\n    }\r\n}","E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\components\\register.component.js",[],"E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\App.js",["33"],"\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Home from './components/home.component';\nimport Nav from './components/nav.component';\nimport Login from './components/login.component';\nimport Register from './components/register.component';\nimport { Component } from 'react';\nimport axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nexport default class App extends Component{\n  state ={};\n\n  componentDidMount= () => {\n\n    const config = {\n        headers: {\n            Authorization : 'Bearer ' + localStorage.getItem('jwt')\n        }\n    };\n  \n    \n   \n    console.log(\"ssksk\")\n    \n    try {\n      var  x= jwtDecode(localStorage.getItem('jwt')).username;\n       console.log(\"1\"+x)\n      // valid token format\n    } catch(error) {\n     var x=null;\n      console.log(\"2\"+x)\n       \n    }\n    axios.get('user/'+x,config).then(\n\n        res => {\n            this.setUser(res.data);\n        },\n        err => {\n            console.log(err)\n        }\n    )\n\n    // axios.get('books/',config).then(\n    //     res => {\n    //         this.setState({\n    //             books :res.data\n    //         })\n            \n              \n             \n    //         },\n    //     err => {\n    //         console.log(err)\n    //     }\n    // )\n        \n\n};\n\nsetUser =  user => {\n  this.setState({\n    user : user\n  });\n};\n\n  render() {\n  return (\n    \n    <BrowserRouter>\n    <div className=\"App\">\n  \n     <Nav user ={this.state.user} setUser={this.setUser}/>\n     <div className =\"auth-wrapper\">\n        <div className = \"auth-inner\">\n          <Switch>\n            <Route exact path=\"/\" component={() =><Home user = {this.state.user}/>} />\n            <Route exact path=\"/login\" component={() => <Login setUser ={this.setUser}/>} />\n            <Route exact path=\"/registration\" component={Register} />\n          </Switch>\n            \n        </div>  \n     </div> \n\n\n\n\n    </div>\n    </BrowserRouter>\n  );\n}\n}\n\n\n","E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\components\\nav.component.js",[],"E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\reportWebVitals.js",[],"E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\index.js",[],"E:\\Academic\\8th semi\\Network Design\\Project\\Book-store-front\\login\\src\\components\\home.component.js",[],{"ruleId":"34","severity":1,"message":"35","line":4,"column":8,"nodeType":"36","messageId":"37","endLine":4,"endColumn":17},{"ruleId":"38","severity":1,"message":"39","line":32,"column":10,"nodeType":"36","messageId":"40","endLine":32,"endColumn":11},"no-unused-vars","'jwtDecode' is defined but never used.","Identifier","unusedVar","no-redeclare","'x' is already defined.","redeclared"]